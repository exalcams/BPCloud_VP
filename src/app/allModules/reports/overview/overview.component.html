<div id="overview" class="page-layout carded" fusePerfectScrollbar>
  <div class="center" fxLayout="column" fxLayoutGap="10px">
    <div class="outer" fxLayout>
      <div class="bg"></div>
      <div>
        <h3 style="margin: 0px;padding-left: 10px;"><b>Overview</b></h3>
      </div>
      <div fxFlex align="end">
        <span><img src="assets/images/logo.svg" style="height: 40px;padding: 4px 15px 2px 0px;"></span>
      </div>
    </div>

    <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="40px" fxLayoutGap.sm="20px" class="cl_ChartContent">
      <div fxFlex="33">
        <mat-card class="chartCard2">
          <mat-card-title class="acp_rej_title">
            Accepted / Rejected
            <p class="underline1" fxFlex="33.5" fxFlex.ms="57.5"></p>
          </mat-card-title>
          <mat-card-content>
            <!-- <div fxLayout="row" fxLayoutAlign="space-between center">
              <canvas id="doughnut" fxFlex="70" fxFlex.ms="100" fxFlex.sm="100" class="dounutchart"></canvas>
              <div fxLayout="column" fxLayoutAlign="center center">
                <div fxLayout="row" fxLayoutAlign="space-evenly center">
                  <p class="accpetCircle"></p>
                  <p>Accepted Quality</p>
                </div>
                <div fxLayout="row" fxLayoutAlign="space-between center">
                  <p class="rejCircle"></p>
                  <p>Rejected Quality</p>
                </div>
              </div>
            </div> -->
            <div fxLayout="row" fxLayoutAlign="start stretch">
              <div>
                <canvas height="150px" width="200px" class="cl_canvas" baseChart [datasets]="labelMFL"
                  [labels]="lineChartLabels" [colors]="doughnutChartColors" [options]="lineChartOptions"
                  [chartType]="ChartType"></canvas>
              </div>
              <div class="cl_chartLabels">
                <div fxLayout="row" class="cl_accpetDiv">
                  <p class="circle1"></p>
                  <p class="cl_Preproduction_label">Accepted Quality</p>
                </div>
                <div fxLayout="row" style="margin-top: -21px;">
                  <p class="circle3"></p>
                  <p class="cl_inline_label">Rejected Quality</p>
                </div>
              </div>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
      <div fxFlex="33">
        <mat-card class="chartCard2">
          <mat-card-title class="rejLabel_title">
            Top 5 rejected Material
            <p class="underline2" fxFlex="36" fxFlex.ms="65"></p>
          </mat-card-title>
          <mat-card-content>
            <div fxLayoutAlign="center stretch">
              <canvas baseChart class="cl_barChart" [datasets]="barChartData" [labels]="barChartLabels"
                [options]="barChartOptions" [legend]="barChartLegend" [chartType]="barChartType"
                [colors]="barChartColors">
              </canvas>
            </div>
          </mat-card-content>
        </mat-card>
      </div>
      <div fxFlex="33">
        <div fxLayout="column" fxLayoutGap="10px">

          <div class="cl_materialDiv" fxFlex="70">
            <img src="assets/images/search.png" class="cl_search2">
            <input matInput placeholder="Material" class="cl_materailInput" [(ngModel)]="material">
          </div>
          <div fxLayout="row" fxLayoutGap="10px">
            <p class="leftDivider" fxFlex="49.5"></p>
            <div fxFlex="1">
              <p class="DividerCircle"></p>
            </div>
            <p class="rightDivider" fxFlex="49.5"></p>
          </div>
          <div class="cl_materialDiv" fxFlex="70">
            <img src="assets/images/search.png" class="cl_search2">
            <input matInput placeholder="Po Number" class="cl_materailInput" [(ngModel)]="PoNumer">
          </div>
          <mat-toolbar style="background-color: transparent;">
            <span class="Spacer"></span>
            <button mat-flat-button class="cl_searchBtn" fxFlex="40" (click)="GetOverviewReportByStatus()"><span
                class="searchBtn_label">Search</span></button>
          </mat-toolbar>
        </div>
      </div>
    </div>


    <mat-toolbar class="cl_searchBar_toolbar">
      <div class="cl_searchBarDiv">
        <img src="assets/images/search.png" class="cl_searchImg">
        <input matInput placeholder="Search" type="text" class="cl_InputSearch" (keyup)="applyFilter($event)" #input>
      </div>
      <span class="Spacer"></span>
      <!-- <mat-form-field appearance="fill"> -->
      <mat-select fxFlex.ms="40" class="reports_overview_Select">
        <mat-option value="option1" (click)="GetOverviewReport()">All</mat-option>
        <mat-option value="option2" (click)="GetOverviewReportByOption2()">Po Number</mat-option>
        <mat-option value="option3" (click)="GetOverviewReportByOption1()">Material</mat-option>
      </mat-select>
      <!-- </mat-form-field> -->
      <div class="cl_excelDiv">
        <img src="assets/images/excel.png" class="cl_ExcelImg" (click)="exportexcel()">
      </div>
      <div>
        <img src="assets/images/expand.png" class="cl_expandImg">
      </div>
    </mat-toolbar>

    <table class="table" mat-table [dataSource]="TabledataSource" id="exceltable" #input>


      <ng-container matColumnDef="Material">
        <th mat-header-cell *matHeaderCellDef>
          <p class="cl_material_column"> Material</p>
        </th>
        <td mat-cell *matCellDef="let element; index as i" align="center">
          <p class="cl_box" [ngStyle]="{'background-color': i%2==0 ? '#d87e39':'#6f52ed'}"></p>
          <p class="cl_material_label" style="font-weight: 500;">{{element.Material}}</p>
        </td>
      </ng-container>

      <ng-container matColumnDef="MaterialText" class="cl_materialText_container">
        <th mat-header-cell *matHeaderCellDef>
          MaterialText
        </th>
        <td mat-cell *matCellDef="let element">
          <p class="cl_MaterialText_column">{{element.MaterialText}}</p>
        </td>
      </ng-container>

      <ng-container matColumnDef="InputQuantity">
        <th mat-header-cell *matHeaderCellDef>
          Input Quantity
        </th>
        <td mat-cell *matCellDef="let element">
          <p class="cl_inputQty_column">{{element.InputQty}} </p>
        </td>
      </ng-container>


      <ng-container matColumnDef="AcceptedQuantity">
        <th mat-header-cell *matHeaderCellDef>
          Accepted Quantity
        </th>
        <td mat-cell *matCellDef="let element">
          <p class="AccptQty"> {{element.AccQty}} </p>
        </td>
      </ng-container>

      <ng-container matColumnDef="RejectedQuantity">
        <th mat-header-cell *matHeaderCellDef>
          Rejected Quantity
        </th>
        <td mat-cell *matCellDef="let element">
          <p class="cl_RejQty_column"> {{element.RejQty}}</p>
        </td>
      </ng-container>

      <ng-container matColumnDef="RejectedPercentage">
        <th mat-header-cell *matHeaderCellDef>
          Rejected Percentage
        </th>
        <td mat-cell *matCellDef="let element">
          <p class="cl_rejPer_column">-</p>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
      </tr>
    </table>

    <mat-progress-spinner *ngIf="isProgressBarVisibile" class="progressBarPostion" color="accent" mode="indeterminate">
    </mat-progress-spinner>
    <div id="overlay" *ngIf="isProgressBarVisibile"></div>
  </div>
</div>