<div id="inspectionplan" class="page-layout carded" fusePerfectScrollbar>
  <div class="center" fxLayout="column" fxLayoutGap="10px">
    <div class="outer" fxLayout>
      <div class="bg"></div>
      <div>
        <h3 style="margin: 0px;padding-left: 10px;"><b>Inspection Plan</b></h3>
      </div>
      <div fxFlex align="end">
        <span><img src="assets/images/logo.svg" style="height: 40px;padding: 4px 15px 2px 0px;"></span>
      </div>
    </div>

    <div fxLayout="row" fxLayout.xs="column" fxLayoutGap="40px" class="cl_ChartContent">
      <div fxFlex="33">
        <mat-card class="chartCard">
          <mat-card-title class="acp_rej_title">
            Material Count
            <!-- <p class="underline1" fxFlex="33.5"></p> -->
          </mat-card-title>
          <mat-card-content>
            <canvas *ngIf="chart" id="leftsidechart" baseChart [datasets]="barChartData" [labels]="barChartLabels"
              [options]="barChartOptions" [chartType]="barChartType" [colors]="doughnutChartColors2">
            </canvas>
          </mat-card-content>
        </mat-card>
      </div>
      <div fxFlex="33">
        <mat-card class="chartCard">
          <mat-card-title class="rejLabel_title">
            Inspection Method
            <!-- <p class="underline2" fxFlex="34"></p> -->
          </mat-card-title>
          <mat-card-content>
            <div fxLayout="row" fxLayoutAlign="start stretch">
              <div fxFlex="50">
                <canvas  height="150" width="200" class="cl_canvas" baseChart [datasets]="labelMFL"
                  [colors]="doughnutChartColors" [options]="lineChartOptions" [chartType]="ChartType"></canvas>
              </div>
              <div class="cl_chartLabels" fxFlex="50">
                <div fxLayout="row">
                  <p class="circle1"></p>
                  <p class="cl_Preproduction_label">Preproduction</p>
                </div>
                <div fxLayout="row" style="margin-top: -21px;">
                  <p class="circle2"></p>
                  <p class="cl_inline_label">Inline</p>
                </div>
                <div fxLayout="row" style="margin-top: -18px;">
                  <p class="circle3"></p>
                  <p class="cl_final_label">Final</p>
                </div>
              </div>
            </div>
          </mat-card-content>

        </mat-card>
      </div>
      <div fxFlex="33">
        <div fxLayout="column" fxLayoutGap="10px">

          <div class="cl_materialDiv" fxFlex="70">
            <img src="assets/images/search.png" class="cl_search2">
            <input matInput placeholder="Material" class="cl_materailInput"
              (keydown.enter)="GetFilteredReportIPByPartnerID()" [(ngModel)]="material">
          </div>
          <div fxLayout="row" fxLayoutGap="10px">
            <p class="leftDivider" fxFlex="49.5"></p>
            <div fxFlex="1">
              <p class="DividerCircle"></p>
            </div>
            <p class="rightDivider" fxFlex="49.5"></p>
          </div>
          <div class="cl_materialDiv" fxFlex="70">
            <img src="assets/images/search.png" class="cl_search2">
            <input matInput placeholder="Inspection Method" class="cl_materailInput"
              (keydown.enter)="GetFilteredReportIPByPartnerID()" [(ngModel)]="inspectionMethod">
          </div>
          <mat-toolbar style="background-color: transparent;">
            <span class="Spacer"></span>
            <button mat-flat-button class="cl_searchBtn" fxFlex="40" (click)="GetFilteredReportIPByPartnerID()"><span
                class="searchBtn_label">Search</span></button>
          </mat-toolbar>
        </div>
      </div>
    </div>


    <mat-toolbar class="cl_searchBar_toolbar">
      <div class="cl_searchBarDiv">
        <img src="assets/images/search.png" class="cl_searchImg">
        <input matInput placeholder="Search" type="text" class="cl_InputSearch" (keyup)="applyFilter($event)" #input>
      </div>
      <span class="Spacer"></span>
      <!-- <mat-form-field appearance="fill"> -->
      <mat-select fxFlex.ms="40" class="reports_overview_Select">
        <mat-option value="option1" (click)="GetAllReportIPByPartnerID()">All</mat-option>
        <mat-option value="option2" (click)="GetOverviewReportByOption2()">Inspection Method</mat-option>
        <mat-option value="option3" (click)="GetOverviewReportByOption1()">Material</mat-option>
      </mat-select>
      <!-- </mat-form-field> -->
      <div class="cl_excelDiv">
        <img src="assets/images/excel.png" class="cl_ExcelImg" (click)="exportexcel()">
      </div>
      <div>
        <img src="assets/images/expand.png" class="cl_expandImg">
      </div>
    </mat-toolbar>


    <!-- <mat-table [dataSource]="TabledataSource" class="cl_table" #exceltable id="exceltable">
      <ng-container matColumnDef="Material">
        <mat-header-cell *matHeaderCellDef class="cl_material"> Material </mat-header-cell>
        <mat-cell *matCellDef="let element ;index as i">
          <p class="cl_box" [ngStyle]="{'background-color': i%2==0 ? '#d87e39':'#6f52ed'}"></p>
          <p class="cl_materialLabel">{{element.Material}} </p>
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="MaterialDesc">
        <mat-header-cell *matHeaderCellDef class="cl_matDesc"> Material Desc </mat-header-cell>
        <mat-cell *matCellDef="let element">
          <p class="cl_matDesc_label">{{element.MaterialText}} </p>
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="MaterialCharacteristics" fxFlex="30">
        <mat-header-cell *matHeaderCellDef class="cl_matChar"> Material Characteristics </mat-header-cell>
        <mat-cell *matCellDef="let element">
          <p class="cl_matChar_label">{{element.MaterialChar}}</p>
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="Description">
        <mat-header-cell *matHeaderCellDef class="cl_Descprition"> Description </mat-header-cell>
        <mat-cell *matCellDef="let element">
          <p class="cl_Descprition_label">{{element.Desc}} </p>
        </mat-cell>
      </ng-container>

      
      <ng-container matColumnDef="LowerLimit">
        <mat-header-cell *matHeaderCellDef class="cl_lowerLimi"> LowerLimit </mat-header-cell>
        <mat-cell *matCellDef="let element">
          <p class="cl_lowerLimit_label"> {{element.LowerLimit}}</p>
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="UpperLimit">
        <mat-header-cell *matHeaderCellDef class="cl_UpperLimit"> Upper Limit </mat-header-cell>
        <mat-cell *matCellDef="let element">
          <p class="cl_UpperLimit_Label">{{element.UpperLimit}}</p>
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="UOM">
        <mat-header-cell *matHeaderCellDef class="cl_uom"> UOM </mat-header-cell>
        <mat-cell *matCellDef="let element">
          <p class="cl_uom_label">{{element.UOM}}</p>
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="InspecMethod">
        <mat-header-cell *matHeaderCellDef class="cl_inspc"> Inspec. Method </mat-header-cell>
        <mat-cell *matCellDef="let element">
          <p class="cl_inspc_label">{{element.Method}}</p>
        </mat-cell>
      </ng-container>

      <ng-container matColumnDef="ModRule">
        <mat-header-cell *matHeaderCellDef class="cl_mod"> Mod Rule </mat-header-cell>
        <mat-cell *matCellDef="let element">
          <p class="cl_mod_label">{{element.ModRule}}</p>
        </mat-cell>
      </ng-container>


      <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>

    </mat-table> -->

    <table class="table" mat-table [dataSource]="TabledataSource" id="exceltable" #input>


      <ng-container matColumnDef="Material">
        <th mat-header-cell *matHeaderCellDef>
          <span class="cl_material_column"> Material</span>
        </th>
        <td mat-cell *matCellDef="let element; index as i" align="center">
          <p class="cl_box" [ngStyle]="{'background-color': i%2==0 ? '#d87e39':'#6f52ed'}"></p>
          <p class="cl_material_label" style="font-weight: 500;">{{element.Material}}</p>
        </td>
      </ng-container>

      <ng-container matColumnDef="MaterialDesc" class="cl_materialText_container">
        <th mat-header-cell *matHeaderCellDef>
          MaterialDesc
        </th>
        <td mat-cell *matCellDef="let element">
          <p class="cl_MaterialText_column">{{element.MaterialText}}</p>
        </td>
      </ng-container>

      <ng-container matColumnDef="MaterialCharacteristics">
        <th mat-header-cell *matHeaderCellDef>
          Material Characteristics
        </th>
        <td mat-cell *matCellDef="let element">
          <p class="cl_MaterialChar_column" style="font-weight: 500;">{{element.MaterialChar}} </p>
        </td>
      </ng-container>


      <ng-container matColumnDef="Description">
        <th mat-header-cell *matHeaderCellDef>
          Description
        </th>
        <td mat-cell *matCellDef="let element">
          <p class="Desc" style="font-weight: 400;"> {{element.Desc}} </p>
        </td>
      </ng-container>

      <ng-container matColumnDef="LowerLimit">
        <th mat-header-cell *matHeaderCellDef>
          Lower Limit
        </th>
        <td mat-cell *matCellDef="let element">
          <p class="cl_LowerLimit_column" style="font-weight: 400;"> {{element.LowerLimit}}</p>
        </td>
      </ng-container>

      <ng-container matColumnDef="UpperLimit">
        <th mat-header-cell *matHeaderCellDef>
          Upper Limit
        </th>
        <td mat-cell *matCellDef="let element">
          <p class="cl_UpperLimit_column" style="font-weight: 400;">{{element.UpperLimit}}</p>
        </td>
      </ng-container>

      <ng-container matColumnDef="UOM">
        <th mat-header-cell *matHeaderCellDef>
          UOM
        </th>
        <td mat-cell *matCellDef="let element">
          <p class="cl_UOM_column" style="font-weight: 400;">{{element.UOM}}</p>
        </td>
      </ng-container>

      <ng-container matColumnDef="InspecMethod">
        <th mat-header-cell *matHeaderCellDef>
          Inspec Method
        </th>
        <td mat-cell *matCellDef="let element">
          <p class="cl_Method_column" style="font-weight: 500;">{{element.Method}}</p>
        </td>
      </ng-container>

      <ng-container matColumnDef="ModRule">
        <th mat-header-cell *matHeaderCellDef>
          Mod Rule
        </th>
        <td mat-cell *matCellDef="let element">
          <p class="cl_ModRule_column" style="font-weight: 400;">{{element.ModRule}}</p>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>

      <!-- Row shown when there is no matching data. -->
      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="4">No data matching the filter "{{input.value}}"</td>
      </tr>
    </table>

    <mat-progress-spinner *ngIf="isProgressBarVisibile" class="progressBarPostion" color="accent" mode="indeterminate">
    </mat-progress-spinner>
    <div id="overlay" *ngIf="isProgressBarVisibile"></div>
  </div>
</div>