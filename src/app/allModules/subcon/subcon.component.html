<div id="purind" class="page-layout carded fullwidth">
  <div class="center">
    <div class="outer" fxLayout>
      <div class="bg"></div>
      <div>
        <h3 style="margin: 0px;padding-left: 10px;"><b>Purchase Indent</b></h3>
      </div>
      <div fxFlex align="end">
        <span><img src="assets/images/logo.svg" style="height: 40px;padding: 4px 15px 2px 0px;"></span>
      </div>
    </div>
    <div fxLayout class="content-card1">
      <!-- <div fxFlex="23" class="side-bar" style="background-color: #f5f5f5">
        <div class="sidenav-header">
          <mat-toolbar>
            <mat-toolbar-row fxLayout="row" class="px-8" fxLayoutAlign="space-between center">
              <div class="search-wrapper" fxFlex fxLayout="row" fxLayoutAlign="start center">
                <div class="search" fxFlex fxLayout="row" fxLayoutAlign="start center">
                  <input [(ngModel)]="searchText" type="text" placeholder="Search" fxFlex>
                  <mat-icon class="s-16">search</mat-icon>
                </div>
              </div>
            </mat-toolbar-row>
          </mat-toolbar>
        </div>
        <div class="sidenav-content" fusePerfectScrollbar fxFlex>
          <div *ngFor="let usr of AllPurchaseIndentHeaders | filter: searchText">
            <div>
              <div class="mx-8 mb-8 mt-0 p-8 leftCard" (click)="LoadSelectedPurchaseIndent(usr)"
                [style.border-left-color]="SelectedPurchaseIndentNumber==usr.PurchaseIndentNumber?'#efb577':'#cccccc'">
                <div fxLayout class="pb-4" fxLayoutAlign="space-between center">
                  <div fxFlex><strong>{{usr.PurchaseIndentNumber}}</strong></div>
                  <div fxFlex align="end">{{usr.CreatedOn | date :'dd/MM/yyyy'}}</div>
                </div>
                <div fxLayout class="pb-4" fxLayoutAlign="space-between center">
                  <div fxFlex><strong>PO : </strong>{{usr.DocNumber}}</div>
                </div>
                <div fxLayout class="pb-4" fxLayoutAlign="space-between center">
                  <div fxFlex><strong>AWB : </strong>{{usr.ReferenceDoc}}</div>
                </div>
                <div fxLayout class="pb-4" fxLayoutAlign="space-between center">
                  <div fxFlex>{{usr.VessleNumber}}</div>
                </div>
              </div>
            </div>
          </div>
          <div *ngIf="(AllPurchaseIndentHeaders | filter: searchText)?.length === 0" class="no-results-message">
            <span class="pl-12"> No results..</span>
          </div>
        </div>
        <div class="borderRight1"></div>
      </div> -->
      <mat-card fxFlex="100" class="side-bar p-0">
        <div fxLayout class="p-0 pt-8">
          <div fxFlex fxLayout="column" class="px-12 mt-4">
            <div fxFlex fxLayout="row">
              <div fxFlex="50" class="px-12">
                PO Number : {{SelectedPO?.DocNumber}}
              </div>
              <div fxFlex="50" class="px-12">
                Currency : {{SelectedPO?.Currency}}
              </div>
            </div>
            <div fxFlex fxLayout="row">
              <div fxFlex="50" class="px-12">
                PO Date : {{SelectedPO?.DocDate | date : 'dd/MM/yyyy'}}
              </div>
              <div fxFlex="50" class="px-12">
                Version : {{SelectedPO?.DocVersion}}
              </div>
            </div>
          </div>
          <div fxFlex class="borderleft mb-40 pt-12" *ngIf="SelectedPO">
            <div fxLayout class="mx-40">
              <div fxFlex="30">ACK</div>
              <div fxFlex="30">ASN</div>
              <div fxFlex="30">Gate</div>
              <div fxFlex="10">GRN</div>
            </div>
            <div fxLayout class="mx-40 my-8">
              <div fxFlex="30" fxLayout>
                <div class="round" [style.border-color]="SelectedPO.Status==='Open'?'#efb577':'#34ad65'"></div>
                <div style="width: 10px;margin-left: -1px;"
                  [class]="SelectedPO.Status==='Open'?'orange-timeline':'green-timeline'"></div>
                <div [class]="Status==='Open'?'white-timeline':'green-timeline'" fxFlex></div>
              </div>
              <div fxFlex="30" fxLayout>
                <div style="width: 10px;margin-right: -1px;" [class]="getTimeline('ASN')"></div>
                <div class="round" [style.border-color]="getStatusColor('ASN')"></div>
                <div style="width: 10px;margin-left: -1px;" [class]="getTimeline('ASN')"></div>
                <div [class]="getRestTimeline('ASN')" fxFlex></div>
              </div>
              <div fxFlex="30" fxLayout>
                <div style="width: 10px;margin-right: -1px;" [class]="getTimeline('Gate')"></div>
                <div class="round" [style.border-color]="getStatusColor('Gate')"></div>
                <div style="width: 10px;margin-left: -1px;" [class]="getTimeline('Gate')"></div>
                <div [class]="getRestTimeline('Gate')" fxFlex></div>
              </div>
              <div fxFlex="10" fxLayout>
                <div style="width: 10px;margin-right: -1px;" [class]="getTimeline('GRN')"></div>
                <div class="round" [style.border-color]="getStatusColor('GRN')"></div>
              </div>
            </div>
            <!-- <div fxLayout class="mx-40">
                <div fxFlex="30"> {{getStatusDate('SO')}} </div>
                <div fxFlex="30"> {{getStatusDate('Shipped')}}</div>
                <div fxFlex="30"> {{getStatusDate('Invoiced')}}</div>
                <div fxFlex="10"> {{getStatusDate('Receipt')}}</div>
              </div> -->
          </div>
        </div>

        <div fxLayout class="content-card1">
          <div fxFlex="23" class="side-bar" style="background-color: #f5f5f5">
            <div class="sidenav-header">
              <mat-toolbar>
                <mat-toolbar-row fxLayout="row" class="px-8" fxLayoutAlign="space-between center">
                  <div class="search-wrapper" fxFlex fxLayout="row" fxLayoutAlign="start center">
                    <div class="search" fxFlex fxLayout="row" fxLayoutAlign="start center">
                      <input [(ngModel)]="searchText" type="text" placeholder="Search" fxFlex>
                      <mat-icon class="s-16">search</mat-icon>
                    </div>
                  </div>
                </mat-toolbar-row>
              </mat-toolbar>
            </div>
            <div class="sidenav-content" fusePerfectScrollbar fxFlex>
              <div *ngFor="let usr of POScheduleLines | filter: searchText">
                <div>
                  <div class="mx-8 mb-8 mt-0 p-8 leftCard" (click)="LoadSelectedASN(usr)"
                    [style.border-left-color]="1===1?'#efb577':'#cccccc'">
                    <div fxLayout class="pb-4" fxLayoutAlign="space-between center">
                      <div fxFlex><strong>{{usr.MaterialText}}</strong></div>
                      <div fxFlex align="end">#{{usr.Material}}</div>
                    </div>
                    <div fxLayout class="pb-4" fxLayoutAlign="space-between center">
                      <div fxFlex>
                        <mat-icon class="mr-4">av_timer</mat-icon>
                        <span>  {{usr.DeliveryDate | date:'dd/MM/yyyy'}}</span>
                      </div>
                      <div fxFlex align="end">Qty: {{usr.OrderedQty}}</div>
                    </div>
                  </div>
                </div>
              </div>
              <div *ngIf="(POScheduleLines | filter: searchText)?.length === 0" class="no-results-message">
                <span class="pl-12"> No results..</span>
              </div>
            </div>
            <div class="borderRight1"></div>
          </div>
          <mat-card fxFlex="77" class="side-bar p-0">
            <div class="sidenav-content" fxFlex fxLayout="column">

            </div>


          </mat-card>
        </div>







        <mat-card-actions class="m-0 pl-12 pr-16 cardActions">
          <div fxLayout fxLayoutAlign="space-between center">
            <div fxFlex>
              <button *ngIf="SelectedPurchaseIndentHeader?.PINumber" mat-stroked-button class="DeleteBtn mr-4 mb-4"
                (click)="DeleteClicked()">Delete</button>
            </div>
            <div *ngIf="!SelectedPurchaseIndentHeader?.PINumber" fxFlex align="end">
              <button mat-stroked-button class="SaveBtn mb-4" (click)="SaveClicked()">Save
              </button>
              <button mat-raised-button class="SubmitBtn mb-4" (click)="SubmitClicked()">Submit</button>
            </div>
          </div>
        </mat-card-actions>
      </mat-card>
    </div>
    <mat-progress-spinner *ngIf="IsProgressBarVisibile" class="progressBarPostion" color="accent" mode="indeterminate">
    </mat-progress-spinner>
    <div id="overlay" *ngIf="IsProgressBarVisibile">
    </div>
  </div>
</div>